@{
    ViewData["Title"] = "Kết quả tìm kiếm";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";

    var sanphams = ViewBag.Sanphams as List<WebQuanLiCuaHangBanOto.Models.Sanpham>;
    var thongtins = ViewBag.Thongtins as List<WebQuanLiCuaHangBanOto.Models.Thongtin>;
    var nhanviens = ViewBag.Nhanviens as List<WebQuanLiCuaHangBanOto.Models.Nhanvien>;
}

<h3>Kết quả tìm kiếm cho từ khóa: <span class="text-primary">@ViewBag.TuKhoa</span></h3>
<hr />

@if (!sanphams.Any() && !thongtins.Any() && !nhanviens.Any())
{
    <div class="alert alert-warning">Không tìm thấy kết quả nào phù hợp.</div>
}

@if (sanphams.Any())
{
    <h4 class="mt-4">Kết quả trong **Sản phẩm**</h4>
    <table class="table table-bordered table-hover">
        <thead class="table-dark">
            <tr>
                <th>ID</th>
                <th>Tên SP</th>
                <th>Hãng</th>
                <th>Loại</th>
                <th>Giá</th>
                <th>Số lượng</th>
                <th>Ảnh</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var sp in sanphams)
            {
                <tr>
                    <td>@sp.Idsp</td>
                    <td>@sp.TenSp</td>
                    <td>@sp.HangXe</td>
                    <td>@sp.LoaiXe</td>
                    <td>@sp.GiaBan.ToString("N0") ₫</td>
                    <td>@sp.SoLuong</td>
                    <td>
                        @if (sp.HinhAnh != null && sp.HinhAnh.Length > 0)
                        {
                            <img src="data:image/png;base64,@Convert.ToBase64String(sp.HinhAnh)" style="max-width: 80px;" />
                        }
                    </td>
                </tr>
            }
        </tbody>
    </table>
}

@if (thongtins.Any())
{
    <h4 class="mt-4">Kết quả trong **Thông tin khách hàng**</h4>
    <table class="table table-bordered table-hover">
        <thead class="table-dark">
            <tr>
                <th>ID</th>
                <th>Họ tên</th>
                <th>Ngày sinh</th>
                <th>Giới tính</th>
                <th>SĐT</th>
                <th>Địa chỉ</th>
                <th>Gmail</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var tt in thongtins)
            {
                <tr>
                    <td>@tt.Idkh</td>
                    <td>@tt.HoTen</td>
                    <td>@tt.NgaySinh?.ToString("dd/MM/yyyy")</td>
                    <td>@tt.GioiTinh</td>
                    <td>@tt.Sdt</td>
                    <td>@tt.DiaChi</td>
                    <td>@tt.Gmail</td>
                </tr>
            }
        </tbody>
    </table>
}

@if (nhanviens.Any())
{
    <h4 class="mt-4">Kết quả trong **Nhân viên**</h4>
    <table class="table table-bordered table-hover">
        <thead class="table-dark">
            <tr>
                <th>ID</th>
                <th>Họ tên</th>
                <th>SĐT</th>
                <th>Email</th>
                <th>chuc vu</th>
           
            </tr>
        </thead>
        <tbody>
            @foreach (var nv in nhanviens)
            {
                <tr>
                    <td>@nv.Idnv</td>
                    <td>@nv.HoTen</td>
                    <td>@nv.Sdt</td>
                    <td>@nv.Gmail</td>
                    <td>@nv.ChucVu</td>
                 
                </tr>
            }
        </tbody>
    </table>
}
